{
  "gitSyncId": "686e46c8f052af62894e37fb_d4fa6552-c70a-4749-a572-54c09f5e485d",
  "id": "Status_prelim",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "SELECT \n    s.name AS status_name,\n    COALESCE(COUNT(c.case_id), 0) AS count\nFROM (\n    VALUES \n        (1, 'ระหว่างมอบหมายเขตปราบ'),\n        (2, 'ระหว่างมอบหมายนักสืบ'),\n        (3, 'ระหว่างไต่สวนเบื้องต้น'),\n        (4, 'ระหว่างเสนอเลขาลงนาม 213'),\n        (5, 'เสนอคณะอนุฯสนับสนุน'),\n        (6, 'แล้วเสร็จเลขาลงนาม 213'),\n        (7, 'เสนอคณะอนุฯกลั่นกรองชั้นไต่สวนเบื้องต้น'),\n        (8, 'ระหว่างรอเสนอคณะกรรมการชั้นไต่สวนเบื้องต้น'),\n        (9, 'มีมติชั้นไต่สวนเบื้องต้นแล้ว')\n) AS s(status_id, name)\nLEFT JOIN public.\"case\" c ON c.prelim_status = s.status_id\n    AND CASE \n        WHEN {{ String(Slc_Division.selectedOptionValue) }} = '0' THEN TRUE\n        ELSE c.responsible_district = {{ String(Slc_Division.selectedOptionValue) }}\n    END\nGROUP BY s.status_id, s.name\nORDER BY s.status_id;",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "mainDB",
      "isAutoGenerated": false,
      "name": "mainDB",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "prelim",
    "pageId": "Status",
    "runBehaviour": "ON_PAGE_LOAD",
    "userSetOnLoad": false
  }
}