{
  "gitSyncId": "686e46c8f052af62894e37fb_f208dd73-454b-42f4-994d-0f88197ef2cc",
  "id": "Status_inves",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "SELECT \n    s.name AS status_name,\n    COALESCE(COUNT(c.case_id), 0) AS count\nFROM (\n    VALUES \n        (1, 'รอคำสั่งไต่สวนชี้มูล'),\n        (2, 'ระหว่างไต่สวนชี้มูล'),\n        (3, 'เสนอรายงานไต่สวน 644'),\n        (5, 'เสนอคณะอนุฯกลั่นกรองชั้นไต่ฯ (บห.กบค.)'),\n        (6, 'ระหว่างรอเสนอคณะกรรมการชั้นไต่สวนชี้มูล'),\n        (7, 'มีมติชั้นไต่สวนชี้มูลแล้ว')\n) AS s(status_id, name)\nLEFT JOIN public.\"case\" c ON c.inves_status = s.status_id\n    AND CASE \n        WHEN {{ String(Slc_Division.selectedOptionValue) }} = '0' THEN TRUE\n        ELSE c.responsible_district = {{ String(Slc_Division.selectedOptionValue) }}\n    END\nGROUP BY s.status_id, s.name\nORDER BY s.status_id;",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "mainDB",
      "isAutoGenerated": false,
      "name": "mainDB",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "inves",
    "pageId": "Status",
    "runBehaviour": "ON_PAGE_LOAD",
    "userSetOnLoad": false
  }
}